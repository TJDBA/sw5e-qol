/* styles/themes/bendu.css - Bendu (Default/Balanced) Theme */

/* Bendu Theme Variables */
:root {
    --bendu-bg-primary: #3a3a3a;
    --bendu-bg-secondary: #4a4a4a;
    --bendu-bg-tertiary: #2a2a2a;
    --bendu-border-dark: #666666;
    --bendu-border-light: #888888;
    --bendu-text-header: #e0e0e0;
    --bendu-text-primary: #f0f0f0;
    --bendu-text-light: #b0b0b0;
    --bendu-accent: #999999;
    --bendu-accent-secondary: #666666;
    --bendu-warning: #cc9966;
    --bendu-success: #888888;
    --bendu-info: #777777;
    
    /* Generic Roll Dialog Theme Variables */
    --dialog-bg: var(--bendu-bg-primary);
    --dialog-text: var(--bendu-text-primary);
    --dialog-border: 2px solid var(--bendu-border-dark);
    --dialog-header-border: 2px solid var(--bendu-accent);
    --dialog-title-color: var(--bendu-accent);
    --section-divider-border: 1px solid var(--bendu-border-light);
    --input-text: var(--bendu-text-secondary);
    
    /* Table Variables */
    --table-border: 1px solid var(--bendu-border-dark);
    --table-bg: var(--bendu-bg-secondary);
    --table-cell-border: 1px solid var(--bendu-border-light);
    --table-header-bg: var(--bendu-bg-tertiary);
    --table-header-text: var(--bendu-accent);
    --table-row-hover-bg: var(--bendu-bg-primary);
    
    /* Input Variables */
    --input-border: 1px solid var(--bendu-border-light);
    --input-bg: var(--bendu-bg-secondary);
    --input-text: var(--bendu-text-primary);
    
    /* Button Variables */
    --btn-success-bg: var(--bendu-success);
    --btn-success-text: white;
    --btn-success-hover-bg: #777777;
    --btn-primary-bg: var(--bendu-accent);
    --btn-primary-text: white;
    --btn-primary-hover-bg: #777777;
    --btn-primary-shadow: 0 4px 15px rgba(153, 153, 153, 0.3);
    --btn-primary-hover-shadow: 0 6px 20px rgba(153, 153, 153, 0.5);
    
    /* Radio Variables */
    --radio-text: var(--bendu-text-primary);
    --radio-accent: var(--bendu-accent);
    --radio-hover-text: var(--bendu-accent);
    
    /* Label Variables */
    --label-text: var(--bendu-accent);
    
    /* Toggle Switch Variables */
    --toggle-on-bg: var(--bendu-accent);
    --toggle-off-bg: var(--bendu-border-dark);
    --toggle-label-color: var(--bendu-text-light);
    
    /* FoundryVTT Dialog Override Variables */
    --dialog-header-bg: var(--bendu-bg-tertiary);
    --dialog-buttons-bg: var(--bendu-bg-tertiary);
    --dialog-buttons-border: 1px solid var(--bendu-border-dark);
    
    /* Button Variables */
    --btn-danger-bg: #f44336;
    --btn-danger-text: white;
    --btn-danger-hover-bg: #da190b;
    
    /* Delete Button Variables */
    --btn-delete-bg: #d32f2f; /* Slightly dark red */
    --btn-delete-text: white;
    --btn-delete-hover-bg: #b71c1c; /* Darker red on hover */
    
    /* Dropdown Background */
    --dropdown-bg: var(--bendu-bg-secondary); /* Matches theme background */
    
    /* Section Divider Color */
    --section-divider-color: 1px solid var(--bendu-border-light);
    
    /* Input Focus States */
    --input-focus-border: var(--bendu-accent);
    --input-focus-shadow: rgba(153, 153, 153, 0.25);
    
    /* Button Active States */
    --btn-primary-active-bg: var(--bendu-accent-secondary);
}

/* Body theming */
body.theme-bendu {
    background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
    transition: all 0.5s ease;
}

body.theme-bendu::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(120, 120, 120, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(100, 100, 100, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(140, 140, 140, 0.04) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
}

/* Bendu Card Styling */
.sw5e-qol-card:not([data-theme]),
.sw5e-qol-card[data-theme="bendu"] {
    border: 2px solid var(--bendu-border-dark);
    background: linear-gradient(135deg, var(--bendu-bg-primary) 0%, var(--bendu-bg-secondary) 100%);
    box-shadow: 
        0 0 30px rgba(120, 120, 120, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.sw5e-qol-card:not([data-theme]) .card-header,
.sw5e-qol-card[data-theme="bendu"] .card-header {
    background: linear-gradient(135deg, #555555 0%, #333333 100%);
    border-bottom: 2px solid var(--bendu-border-light);
    color: var(--bendu-text-header);
}

.sw5e-qol-card:not([data-theme]) .weapon-title .name,
.sw5e-qol-card[data-theme="bendu"] .weapon-title .name {
    color: var(--bendu-text-header);
    text-shadow: 0 0 12px rgba(160, 160, 160, 0.8);
}

.sw5e-qol-card:not([data-theme]) .weapon-icon,
.sw5e-qol-card[data-theme="bendu"] .weapon-icon {
    background: linear-gradient(135deg, #707070 0%, #909090 50%, #707070 100%);
    border: 2px solid var(--bendu-border-light);
    box-shadow: 
        0 0 20px rgba(120, 120, 120, 0.8),
        inset 0 0 10px rgba(255, 255, 255, 0.1);
    animation: bendu-pulse 4s infinite ease-in-out;
}

@keyframes bendu-pulse {
    0%, 100% { 
        box-shadow: 0 0 20px rgba(120, 120, 120, 0.6), inset 0 0 10px rgba(255, 255, 255, 0.1);
    }
    50% { 
        box-shadow: 0 0 35px rgba(120, 120, 120, 1), inset 0 0 15px rgba(255, 255, 255, 0.2);
    }
}

.sw5e-qol-card:not([data-theme]) .card-controls,
.sw5e-qol-card[data-theme="bendu"] .card-controls {
    background: linear-gradient(135deg, var(--bendu-bg-secondary) 0%, var(--bendu-bg-tertiary) 100%);
    border-bottom: 1px solid var(--bendu-border-light);
}

.sw5e-qol-card:not([data-theme]) .quick-btn,
.sw5e-qol-card[data-theme="bendu"] .quick-btn {
    background: linear-gradient(135deg, #777777 0%, #666666 50%, #555555 100%);
    border: 1px solid #999999;
    color: white;
    box-shadow: 
        0 4px 15px rgba(120, 120, 120, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.sw5e-qol-card:not([data-theme]) .quick-btn:hover,
.sw5e-qol-card[data-theme="bendu"] .quick-btn:hover {
    background: linear-gradient(135deg, #888888 0%, #777777 50%, #666666 100%);
    box-shadow: 
        0 6px 20px rgba(120, 120, 120, 0.6),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.sw5e-qol-card:not([data-theme]) .gm-btn,
.sw5e-qol-card[data-theme="bendu"] .gm-btn {
    background: linear-gradient(135deg, #555555 0%, #444444 100%);
    border: 1px solid var(--bendu-border-light);
    color: var(--bendu-text-primary);
    box-shadow: 0 2px 8px rgba(120, 120, 120, 0.2);
}

.sw5e-qol-card:not([data-theme]) .gm-btn:hover,
.sw5e-qol-card[data-theme="bendu"] .gm-btn:hover {
    background: linear-gradient(135deg, #666666 0%, #555555 100%);
    box-shadow: 0 4px 12px rgba(120, 120, 120, 0.4);
}

.sw5e-qol-card:not([data-theme]) .target-row,
.sw5e-qol-card[data-theme="bendu"] .target-row {
    background: linear-gradient(135deg, #353535 0%, #2a2a2a 100%);
    border-bottom: 1px solid var(--bendu-border-light);
}

.sw5e-qol-card:not([data-theme]) .target-row:nth-child(even),
.sw5e-qol-card[data-theme="bendu"] .target-row:nth-child(even) {
    background: linear-gradient(135deg, #404040 0%, #353535 100%);
}

.sw5e-qol-card:not([data-theme]) .target-name,
.sw5e-qol-card[data-theme="bendu"] .target-name {
    color: var(--bendu-text-header);
    text-shadow: 0 0 10px rgba(160, 160, 160, 0.7);
}

.sw5e-qol-card:not([data-theme]) .target-name:hover,
.sw5e-qol-card[data-theme="bendu"] .target-name:hover {
    text-shadow: 0 0 15px rgba(160, 160, 160, 1);
    color: #f0f0f0;
}

.sw5e-qol-card:not([data-theme]) .action-btn,
.sw5e-qol-card[data-theme="bendu"] .action-btn {
    background: linear-gradient(135deg, #666666 0%, #555555 50%, #444444 100%);
    border: 1px solid var(--bendu-border-light);
    color: var(--bendu-text-primary);
    box-shadow: 
        0 4px 15px rgba(120, 120, 120, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.sw5e-qol-card:not([data-theme]) .action-btn:hover,
.sw5e-qol-card[data-theme="bendu"] .action-btn:hover {
    background: linear-gradient(135deg, #777777 0%, #666666 50%, #555555 100%);
    box-shadow: 
        0 6px 20px rgba(120, 120, 120, 0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* Status indicators for Bendu theme */
.sw5e-qol-card:not([data-theme]) .status-hit .status-indicator,
.sw5e-qol-card[data-theme="bendu"] .status-hit .status-indicator { 
    color: #888888; 
    text-shadow: 0 0 8px currentColor;
}

.sw5e-qol-card:not([data-theme]) .status-miss .status-indicator,
.sw5e-qol-card[data-theme="bendu"] .status-miss .status-indicator { 
    color: #666666; 
    opacity: 0.7;
}

.sw5e-qol-card:not([data-theme]) .status-crit .status-indicator,
.sw5e-qol-card[data-theme="bendu"] .status-crit .status-indicator { 
    color: #aaaaaa;
    text-shadow: 0 0 12px currentColor;
}

.sw5e-qol-card:not([data-theme]) .status-pending .status-indicator,
.sw5e-qol-card[data-theme="bendu"] .status-pending .status-indicator { 
    color: #777777; 
}

/* Damage roll styling */
.sw5e-qol-card:not([data-theme]) .damage-roll,
.sw5e-qol-card[data-theme="bendu"] .damage-roll {
    color: var(--bendu-warning);
    text-shadow: 0 0 12px rgba(204, 153, 102, 0.6);
}

.sw5e-qol-card:not([data-theme]) .damage-roll.pending,
.sw5e-qol-card[data-theme="bendu"] .damage-roll.pending {
    color: #777777;
    text-shadow: 0 0 8px rgba(119, 119, 119, 0.4);
}

/* Dialog theming */
.sw5e-qol-attack:not([data-theme]),
.sw5e-qol-attack[data-theme="bendu"],
.sw5e-qol-damage:not([data-theme]),
.sw5e-qol-damage[data-theme="bendu"] {
    background: var(--bendu-bg-primary);
    border: 1px solid var(--bendu-border-dark);
}

.sw5e-qol-attack:not([data-theme]) .window-header,
.sw5e-qol-attack[data-theme="bendu"] .window-header,
.sw5e-qol-damage:not([data-theme]) .window-header,
.sw5e-qol-damage[data-theme="bendu"] .window-header {
    background: linear-gradient(135deg, #555555 0%, #333333 100%);
    color: var(--bendu-text-header);
}

.sw5e-qol-attack:not([data-theme]) .dialog-button.primary,
.sw5e-qol-attack[data-theme="bendu"] .dialog-button.primary,
.sw5e-qol-damage:not([data-theme]) .dialog-button.primary,
.sw5e-qol-damage[data-theme="bendu"] .dialog-button.primary {
    background: linear-gradient(135deg, #777777 0%, #666666 100%);
    border-color: var(--bendu-border-light);
    color: white;
}

/* Fix item select dropdown width issue */
.item-select {
    padding: 0.5rem;
    border: var(--input-border, 1px solid #ddd);
    border-radius: 4px;
    background: var(--dropdown-bg, var(--input-bg, #ffffff)); /* Use dropdown background */
    color: var(--input-text, #333);
    height: 2.2rem;
    line-height: 1.2;
    vertical-align: middle;
    width: 100%;
    box-sizing: border-box; /* Ensure padding doesn't extend beyond container */
    max-width: 100%; /* Prevent overflow */
}

/* Fix preset select dropdown width */
.preset-select {
    padding: 0.5rem;
    border: var(--input-border, 1px solid #ddd);
    border-radius: 4px;
    background: var(--dropdown-bg, var(--input-bg, #ffffff)); /* Use dropdown background */
    color: var(--input-text, #333);
    height: 2.2rem;
    line-height: 1.2;
    vertical-align: middle;
    box-sizing: border-box; /* Ensure padding doesn't extend beyond container */
    max-width: 100%; /* Prevent overflow */
}

/* Style dropdown options to match theme */
select option {
    background: var(--dropdown-bg, var(--input-bg, #ffffff));
    color: var(--input-text, #333);
    padding: 0.5rem;
}

/* Style dropdown when opened */
select:focus {
    outline: none;
    border-color: var(--input-focus-border, var(--accent-color, #007bff));
    box-shadow: 0 0 0 2px var(--input-focus-shadow, rgba(0, 123, 255, 0.25));
}

/* Ensure all select elements use consistent styling */
.modifier-type-select,
.modifier-dice-select,
.attribute-select,
.roll-mode-select {
    padding: 0.5rem;
    border: var(--input-border, 1px solid #ddd);
    border-radius: 4px;
    background: var(--dropdown-bg, var(--input-bg, #ffffff)); /* Use dropdown background */
    color: var(--input-text, #333);
    height: 2.2rem;
    line-height: 1.2;
    vertical-align: middle;
    box-sizing: border-box; /* Ensure padding doesn't extend beyond container */
    max-width: 100%; /* Prevent overflow */
}